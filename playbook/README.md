
## Инфраструктура:

1. Сервер `clickhouse-01` для сбора логов.   
2. Сервер `vector-01`, генерирующий и обрабатывающий логи.   
3. Сервер `lighthouse-01`, веб-сервер со статикой для отображение логов.   

Приложение на сервере `vector-01` генерирует псевдо логи и отсылает их на сервер `clickhouse-01` для сохранения в базу данных.   

## Playbook   

Playbook производит установку и настройку следующих приложений на указанных серверах.   


- ### Clickhouse   

  - установка `clickhouse`   
  - создание базы данных и таблицы в ней   


- ### Vector   

  - установка `vector`   

- ### Lighthouse   

  - установка `lighthouse`   
  - установка `nginx`   

## Variables   

Через group_vars можно задать следующие параметры:   
- `clickhouse_version`, `vector_version` - версии устанавливаемых приложений;   
- `clickhouse_packages` - список пакетов для установки clickhouse;   
- `lighthouse_vcs` - URL репозитария lighthouse    
- 'nginx_user_name' - системный пользователь от имени которого работает сервис nginx   
- `lighthouse_location_dir` -  путь до локальной директории со скаченным ligthouse   
- `lighthouse_access_log_name` - уникальное имя для логов nginx   

Для полной установки инфраструктуры указывать тэги не требуется.   